{% extends "base.html" %}

{% block title %}Home - Vehicle Registration Predictor{% endblock %}

{% block content %}
<div class="hero-section">
    <div class="hero-content">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; align-items: center;">
            <div>
                <h1><i class="fas fa-car"></i> Vehicle Registration Predictor</h1>
                <p class="hero-subtitle">AI-Powered Vehicle Registration Forecasting for Sri Lanka</p>
                <p class="hero-description">Leverage advanced machine learning to predict vehicle registrations and understand automotive market trends</p>
                <div class="hero-buttons">
                    <a href="/predict" class="btn btn-primary btn-large">
                        <i class="fas fa-magic"></i> Get Started
                    </a>
                    <a href="/explore" class="btn btn-secondary btn-large">
                        <i class="fas fa-database"></i> Explore Data
                    </a>
                </div>
            </div>
            <div style="text-align: center; display: flex; justify-content: center; align-items: center;">
                <img src="/static/images/vehicles-showroom.jpg" alt="Vehicle Showroom" style="max-width: 100%; height: auto; border-radius: 12px; filter: drop-shadow(0 8px 24px rgba(0, 102, 204, 0.15)); width: 100%; max-height: 400px; object-fit: cover;">
            </div>
        </div>
    </div>
</div>

<div class="container">
    <!-- Stats Section -->
    <section class="stats-section">
        <h2><i class="fas fa-chart-bar"></i> Model Performance</h2>
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-bullseye"></i>
                </div>
                <div class="stat-content">
                    <h3>RÂ² Score</h3>
                    <p class="stat-value">0.9842</p>
                    <p class="stat-label">Model Accuracy</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-calculator"></i>
                </div>
                <div class="stat-content">
                    <h3>Prediction Error</h3>
                    <p class="stat-value">Â±160 vehicles</p>
                    <p class="stat-label">MAE (~9% median error)</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-car"></i>
                </div>
                <div class="stat-content">
                    <h3>Categories Tracked</h3>
                    <p class="stat-value">{{ stats.total_products or 9 }}</p>
                    <p class="stat-label">Vehicle Types</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-database"></i>
                </div>
                <div class="stat-content">
                    <h3>Data Points</h3>
                    <p class="stat-value">{{ stats.total_records or '648' }}</p>
                    <p class="stat-label">Historical Records</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features-section">
        <h2><i class="fas fa-sparkles"></i> Key Features</h2>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-crystal-ball"></i>
                </div>
                <h3>Registration Prediction</h3>
                <p>Get accurate vehicle registration predictions for Sri Lanka using our trained CatBoost model with Bayesian optimization.</p>
                <a href="/predict" class="feature-link">Try it now â†’</a>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-lightbulb"></i>
                </div>
                <h3>SHAP Explainability</h3>
                <p>Understand why predictions are made with SHAP analysis, showing feature importance for each forecast.</p>
                <a href="/explainability" class="feature-link">Learn more â†’</a>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-chart-area"></i>
                </div>
                <h3>Data Exploration</h3>
                <p>Visualize market trends, price distributions, and patterns across different products and regions.</p>
                <a href="/explore" class="feature-link">Explore â†’</a>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-brain"></i>
                </div>
                <h3>Machine Learning</h3>
                <p>Powered by CatBoost, a gradient boosting framework optimized for categorical features and speed.</p>
                <a href="/about" class="feature-link">Details â†’</a>
            </div>
        </div>
    </section>

    <!-- Info Section -->
    <section class="info-section">
        <div class="info-card">
            <h2>ðŸ“Š About Vehicle Registration Predictor</h2>
            <p>Vehicle Registration Predictor is an AI-powered application designed to forecast vehicle registrations in Sri Lanka using advanced machine learning techniques. Our CatBoost model has been trained on hundreds of data points across various vehicle categories and time periods, optimized with Bayesian hyperparameter tuning for superior accuracy.</p>
            <ul class="info-list">
                <li><strong>Algorithm:</strong> CatBoost with Bayesian Optimization (100 trials)</li>
                <li><strong>Accuracy:</strong> 98.42% RÂ² score on test set</li>
                <li><strong>Features:</strong> Market dynamics, seasonal factors, and categorical vehicle types</li>
                <li><strong>Explainability:</strong> SHAP values show feature importance for each prediction</li>
            </ul>
        </div>
    </section>
</div>
{% endblock %}
